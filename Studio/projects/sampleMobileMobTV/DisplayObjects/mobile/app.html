<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		
		<!-- You must configure to reduce XSS risks by declaring what dynamic resources are allowed. See http://content-security-policy.com/ -->
		<meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval' blob:; img-src * data:" />
		
		<!-- optional ios meta -->
		<!-- show the splashscreen in ios webapp mode -->
		<meta name="apple-mobile-web-app-capable" content="yes" />
		
		<!-- disable highlight in windows phone device -->
		<meta name="msapplication-tap-highlight" content="no" />
		
		<!-- You may use the other optional metas -->
		<!-- <meta name="apple-touch-fullscreen" content="yes" />-->
		<!-- <meta name="apple-mobile-web-app-status-bar-style" content="black" />-->
		<!-- <meta name="format-detection" content="telephone=no" />-->
		
		<!-- viewport -->
		<!-- use this viewport for standard webApp + PhoneGap -->
		<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1" />
		
		<!-- use this viewport for iPhone iOS 4 and iOS 5 webApp -->
		<!-- <meta name="viewport" content="user-scalable=yes, width=device-width, height=device-height, initial-scale=1" />-->
		
		<!-- use this viewport for iPad webApp -->
		<!-- <meta name="viewport" content="user-scalable=no, width=device-width, height=device-height, initial-scale=1" />-->
		
		<title>Sample mobile MOBTV 4.0</title>
		
		<!--
			By default, your project will use the latest JS and CSS resources version provided in the Convertigo server
			where it is deployed. If you want to use a specific version, comment out the current links and comment in
			the /x.x.x version of links to the resource you want to use. Be sure to use the same version for all the links
			to the resources.
			
			Also, all links are by default on the minified version of the resources. We provide for your convenience links
			to the non minifed versions, just commend out the non minified and comment in the minified links if you want to
			use	them.
		-->
			 	
		
    	<!-- CSS inclusions -->
    	
    	<!--
			jQuery mobile CSS
			=====================
			Provides the mobile UI CSS.
		-->
		<link href="../../../../css/jquery.mobile.min.css" rel="stylesheet" type="text/css" />
<!-- 	<link href="../../../../css/jquery.mobile.css" rel="stylesheet" type="text/css" /> -->
<!-- 	<link href="../../../../css/7.2.0/jquery.mobile.min.css" rel="stylesheet" type="text/css" /> -->
<!-- 	<link href="../../../../css/7.2.0/jquery.mobile.css" rel="stylesheet" type="text/css" /> -->

		<!--
			Local project custom css
			===================================
			custom.css will hold all your custom CSS styles
		-->
		<link href="css/jquery_theme_m.css" rel="stylesheet" type="text/css" />
        <link href="css/custom.css" rel="stylesheet" type="text/css" />

		
		<!-- Scripts inclusions -->
        <!--
        	PhoneGap JS library
        	===================
        	To use some phonegap/cordova APIs (GPS, Sensors, Camera, Etc..)
        -->
        <script src="cordova.js" type="text/javascript"></script>
        
        <!--
        	jQuery library (2.x)
        	==============
        	Convertigo mobile apps are based on JQuery. the following links will reference the current jQuery
        	library.
        -->
		<script src="../../../../scripts/jquery2.min.js" type="text/javascript"></script>
<!-- 	<script src="../../../../scripts/jquery2.js" type="text/javascript"></script> -->
<!-- 	<script src="../../../../scripts/7.2.0/jquery2.min.js" type="text/javascript"></script> -->
<!-- 	<script src="../../../../scripts/7.2.0/jquery2.js" type="text/javascript"></script> -->
		
		<!--
			Convertigo jQuery c8o mobilelib
			===============================
			The following links will reference the Convertigo libraries: Convertigo core library, Convertigo jQuery Mobile dedicated library, 
			Convertigo Templating Framework library (core and jQuery Mobile dedicated).  
			They provide your application's access to the Convertigo Server, automatic call of Convertigo Server and response management. 
			Be sure all the links remain placed in the original inclusion order.
			
			You can find documentation about Convertigo Templating Framework here:
			http://help.convertigo.com/latest/topic/com.twinsoft.convertigo.studio.help/help/helpRefManual/convertigoTemplatingFramework.html
			or
			http://help.convertigo.com/7.2.0/topic/com.twinsoft.convertigo.studio.help/help/helpRefManual/convertigoTemplatingFramework.html
			
			You can find documentation about Convertigo Internationalization Framework (CTF plugin) here:
			http://help.convertigo.com/latest/topic/com.twinsoft.convertigo.studio.help/help/helpRefManual/internationalization.html
			or
			http://help.convertigo.com/7.2.0/topic/com.twinsoft.convertigo.studio.help/help/helpRefManual/internationalization.html
			
			You also find below the link to Convertigo Cordova enablement library. This library's inclusion is commented but you can comment it out as soon as you need to use Push functionality.
			You can find documentation about Push management in our technical blog: http://www.convertigo.com/en/how-to/technical-blog.html
			
		-->
		<script src="../../../../scripts/c8o.core.js" type="text/javascript"></script>
		<script src="../../../../scripts/c8o.jquerymobile.js" type="text/javascript"></script>
		<script src="../../../../scripts/c8o.cordova.device.js" type="text/javascript"></script>
		<script src="../../../../scripts/ctf.core.js" type="text/javascript"></script>
		<script src="../../../../scripts/ctf.jquerymobile.js" type="text/javascript"></script>
		
<!-- 	<script src="../../../../scripts/7.2.0/c8o.core.js" type="text/javascript"></script> -->
<!-- 	<script src="../../../../scripts/7.2.0/c8o.jquerymobile.js" type="text/javascript"></script> -->
<!-- 	<script src="../../../../scripts/7.2.0/c8o.cordova.device.js" type="text/javascript"></script> -->
<!-- 	<script src="../../../../scripts/7.2.0/ctf.core.js" type="text/javascript"></script> -->
<!-- 	<script src="../../../../scripts/7.2.0/ctf.jquerymobile.js" type="text/javascript"></script> -->
		
		<!--
			Local project custom script
			===================================
			custom.js will hold all your custom logic and controller.
			WARNING : Be sure this link is placed between the Convertigo jQuery Mobile dedicated library and the "jQuery Mobile" library.  
		-->
		<script src="js/custom.js" type="text/javascript"></script>
		
		<!--
			jQuery mobile library
			=====================
			Provides the mobile UI features to your app.
			WARNING: Must be the last link referenced in the <head> section.
		-->
		<script src="../../../../scripts/jquery.mobile.min.js" type="text/javascript"></script>
<!-- 	<script src="../../../../scripts/jquery.mobile.js" type="text/javascript"></script> -->
<!-- 	<script src="../../../../scripts/7.2.0/jquery.mobile.min.js" type="text/javascript"></script> -->
<!-- 	<script src="../../../../scripts/7.2.0/jquery.mobile.js" type="text/javascript"></script> -->

	</head>
	
	<body>
		<!-- Home screen -->
	    <div data-role="page" id="home" data-theme="a" data-title="MobTV 4.0">
        	<!-- header -->
        	<div data-role="header" data-theme="b" data-position="fixed" data-tap-toggle="false">
        		<h1>Accueil</h1>
			</div>
			<!-- End header -->
			<!-- content -->
			<div data-role="content">	
				<ul data-role="listview" data-theme="a">
					<li>
						<a href="#" data-c8o-call=".getProgTv"
						   data-c8o-variables='{"part":"1", "__localCache": {"enabled":true, "policy": "priority-local", "ttl": 3600000}}'>
							Début de soirée
						</a>
					</li>
					<li>
						<a href="#" data-c8o-call=".getProgTv"
						   data-c8o-variables='{"part":"2", "__localCache": {"enabled":true, "policy": "priority-local", "ttl": 3600000}}'>
							Fin de soirée
						</a>
					</li>
					<li><a href="#about">A propos...</a></li>
				</ul>	
			</div>
			<!-- End content -->
			<!-- footer -->
			<div data-role="footer" data-theme="b" data-position="fixed" data-tap-toggle="false">
				<h4>MOBTV</h4>
			</div>
			<!-- End footer -->
		</div>
		<!-- End Home screen -->
		
		<!-- Prime Time screen -->
		<div data-role="page" id="primeTime" data-theme="a">
			<!-- header -->
			<div data-role="header" data-theme="b" data-position="fixed" data-tap-toggle="false" data-add-back-btn="true">
				<h1>1ère partie</h1>
			</div>
			<!-- End header -->
			<!-- content -->
			<div data-role="content" data-c8o-listen=".getProgTv" data-c8o-listen-condition="firstPartCondition">
				<ul data-role="listview">
					<!-- current date -->
					<li data-role="list-divider" data-theme="m">__=date__</li>
					<!-- great channels - title of first part of night -->
			    	<li data-role="list-divider" data-theme="n">Grandes chaines</li>
				</ul>
			 	<ul data-role="listview" data-theme="a" data-c8o-each="GCH1" class="myMargin">
			 		<!-- great channels - content of first part of night -->
			    	<li data-theme="a" data-c8o-if="sum_prog">
			    		<!-- Case with a link to click -->
						<a class="progItem" href="#" data-c8o-call=".getProgDetails"
						   data-c8o-variables='{"href":"__=sum_prog__", "__localCache": {"enabled":true, "policy": "priority-local", "ttl": 3600000}}'>
							<!--  li content -->
							<img style="margin-top: 25px" data-c8o-use="on" data-c8o-use-src="__=img_chaine__"/>
							<h3>__=name_prog__</h3>
							<p>__=hour_prog__</p>
							<!-- End li content -->
							
							<span style="display:none" class="savingData" img_chaine="__=img_chaine__" img_prog="__=img_prog__" name_prog="__=name_prog__" 
							hour_prog="__=hour_prog__" subject_prog="__=subject_prog__" type_prog="__=type_prog__"/>
						</a>
					</li>
					<li data-theme="a" data-c8o-if-not="sum_prog">
						<!-- Case without a link to click -->
			    		<!--  li content -->
						<img style="margin-top: 25px" data-c8o-use="on" data-c8o-use-src="__=img_chaine__"/>
						<h3>__=name_prog__</h3>
						<p>__=hour_prog__</p>
						<!-- End li content -->
			    	</li>
		    	</ul>
		    	<ul data-role="listview" data-theme="a" data-divider-theme="n" class="myMargin">	
			    	<!-- TNT - title of first part of night -->
		    		<li data-role="list-divider">TNT</li>
		    	</ul>
			 	<ul data-role="listview" data-theme="a" data-c8o-each="TNT1" class="myMargin">
			 		<!-- TNT - content of first part of night -->
			    	<li data-theme="a" data-c8o-if="sum_prog">
						<a class="progItem" href="#" data-c8o-call=".getProgDetails"
						   data-c8o-variables='{"href":"__=sum_prog__", "__localCache": {"enabled":true, "policy": "priority-local", "ttl": 3600000}}'>
							<!--  li content -->
							<img style="margin-top: 25px" data-c8o-use="on" data-c8o-use-src="__=img_chaine__"/>
							<h3>__=name_prog__</h3>
							<p>__=hour_prog__</p>
							<!-- End li content -->
							
							<span style="display:none" class="savingData" img_chaine="__=img_chaine__" img_prog="__=img_prog__" name_prog="__=name_prog__" 
							hour_prog="__=hour_prog__" subject_prog="__=subject_prog__" type_prog="__=type_prog__"/>
						</a>
					</li>
					<li data-theme="a" data-c8o-if-not="sum_prog">
						<!-- li content -->
						<img style="margin-top: 25px" data-c8o-use="on" data-c8o-use-src="__=img_prog__"/>
						<h3>__=name_prog__</h3>
						<p>__=hour_prog__</p>
						<!-- End li content -->
			    	</li>
		    	</ul>		    	
			</div>
			<!-- End content -->
			<!-- footer -->
			<div data-role="footer" data-theme="b">
				<h4>MOBTV</h4>
			</div>
			<!-- End footer -->
		</div>
		
		<!-- Second Time screen -->
		<div data-role="page" id="2ndTime" data-theme="a">
			<!-- header -->
			<div data-role="header" data-theme="b" data-position="fixed" data-tap-toggle="false" data-add-back-btn="true">
				<h1>2ème partie</h1>
			</div>
			<!-- End header -->
			<!-- content -->
			<div data-role="content" data-c8o-listen=".getProgTv" data-c8o-listen-condition="secondPartCondition">
				<ul class="dateJour" data-role="listview">
					<!-- current date -->
					<li data-role="list-divider" data-theme="m">__=date__</li>
					<!-- great channels - title of first part of night -->
			    	<li data-role="list-divider" data-theme="n">Grandes chaines</li>
				</ul>
			 	<ul data-role="listview" data-theme="a" class="myMargin" data-c8o-each="GCH2" class="myMargin">
			 		<!-- great channels - content of first part of night -->
			    	<li data-theme="a" data-c8o-if="sum_prog">
						<!-- Case with a link to click -->
						<a class="progItem" href="#" data-c8o-call=".getProgDetails"
						   data-c8o-variables='{"href":"__=sum_prog__", "__localCache": {"enabled":true, "policy": "priority-local", "ttl": 3600000}}'>
							<!--  li content -->
							<img style="margin-top: 25px" data-c8o-use="on" data-c8o-use-src="__=img_chaine__"/>
							<h3>__=name_prog__</h3>
							<p>__=hour_prog__</p>
							<!-- End li content -->
							
							<span style="display:none" class="savingData" img_chaine="__=img_chaine__" img_prog="__=img_prog__" name_prog="__=name_prog__" 
							hour_prog="__=hour_prog__" subject_prog="__=subject_prog__" type_prog="__=type_prog__"/>
						</a>
					</li>
					<li data-theme="a" data-c8o-if-not="sum_prog">
						<!-- Case without a link to click -->
			    		<!--  li content -->
						<img style="margin-top: 25px" data-c8o-use="on" data-c8o-use-src="__=img_chaine__"/>
						<h3>__=name_prog__</h3>
						<p>__=hour_prog__</p>
						<!-- End li content -->
			    	</li>
		    	</ul>
		    	<ul data-role="listview" data-theme="a" data-divider-theme="n" class="myMargin">	
			    	<!-- TNT - title of first part of night -->
		    		<li data-role="list-divider">TNT</li>
		    	</ul>
			 	<ul data-role="listview" data-theme="a" class="myMargin" data-c8o-each="TNT2">
			 		<!-- TNT - content of first part of night -->
			    	<li data-theme="a" data-c8o-if="sum_prog">
			    		<!-- Case with a link to click -->
						<a class="progItem" href="#" data-c8o-call=".getProgDetails"
						   data-c8o-variables='{"href":"__=sum_prog__", "__localCache": {"enabled":true, "policy": "priority-local", "ttl": 3600000}}'>
							<!--  li content -->
							<img style="margin-top: 25px" data-c8o-use="on" data-c8o-use-src="__=img_chaine__"/>
							<h3>__=name_prog__</h3>
							<p>__=hour_prog__</p>
							<!-- End li content -->
							
							<span style="display:none" class="savingData" img_chaine="__=img_chaine__" img_prog="__=img_prog__" name_prog="__=name_prog__" 
							hour_prog="__=hour_prog__" subject_prog="__=subject_prog__" type_prog="__=type_prog__"/>
						</a>
					</li>
					<li data-theme="a" data-c8o-if-not="sum_prog">
						<!-- Case without a link to click -->
			    		<!--  li content -->
						<img style="margin-top: 25px" data-c8o-use="on" data-c8o-use-src="__=img_chaine__"/>
						<h3>__=name_prog__</h3>
						<p>__=hour_prog__</p>
						<!-- End li content -->
			    	</li>
		    	</ul>		    	
			</div>
			<!-- End content -->
			<!-- footer -->
			<div data-role="footer" data-theme="b">
				<h4>MOBTV</h4>
			</div>
			<!-- End footer -->
		</div>
		<!-- End Second Time screen -->
		
		<!-- Prog Detail screen -->
		<div data-role="page" id="progDetail" data-theme="a">
			<!-- header -->
			<div data-role="header" data-theme="b" data-position="fixed" data-tap-toggle="false" data-add-back-btn="true">
				<h1 id="prog_title"></h1>
			</div>
			<!-- End header -->
			<!-- content -->
			<div data-role="content" data-corners="true">
				<fieldset class="ui-grid-a ui-bar">
					<div class="ui-block-a">
						<div style="padding: 4px 0 8px 4px"><img id="prog_img_chn" style="border: 0; vertical-align: middle;" /></div>
						<div style="padding: 0 0 8px 4px"><img id="prog_img" style="border: 0; vertical-align: middle;" /></div>
					</div>
					<div class="ui-block-b">
						<div id="prog_hour"></div>
						<div id="prog_name"></div>
						<div id="prog_subject"></div>
						<div id="prog_type"></div>
					</div>
				</fieldset>
				<fieldset class="ui-bar">
					<div class="ui-block-a">
						<div id="prog_resume" style="padding: 4px">
							<div name="sum" data-c8o-listen=".getProgDetails" data-c8o-listen-condition="detailsCondition">
								<!-- Standard -->
								__=summary__
								
								<!-- Serie docu -->
								<div>
									<div><strong>__=serie_docu>title__</strong></div>
									<div><em>__=serie_docu>season__</em></div>
									<div>__=summary_serie_docu__</div>
									<br/>
								</div>
								
								<!-- Serie -->
								<div data-c8o-each="serie">
									<div>__=time__ <strong>__=title__</strong></div>
									<div><em>__=season__</em></div>
									<div>__=sum__</div>
									<br/>
								</div>
								
								<!-- Movie -->
								<div>
									<div data-c8o-each="movie_infos&gt;info"> 	
										<div>__=.__</div>
									</div>
									<br/>
									<div>__=synopsis__</div>
									<br/>
								</div>
							</div>
						</div>
					</div>
				</fieldset>
			</div>
			<!-- End content -->
			<!-- footer -->
			<div data-role="footer" data-position="fixed" data-tap-toggle="false" data-theme="b">
				<h4>MOBTV</h4>
			</div>
			<!-- End footer -->
		</div>
		<!-- Prog Detail screen -->
		
		<!-- About screen -->
		<div data-role="page" data-theme="a" id="about" data-title="A propos...">
			<!-- header -->
			<div data-role="header" data-theme="b" data-position="fixed" data-tap-toggle="false" data-add-back-btn="true">
				<h1>A propos...</h1>
			</div>
			<!-- End header -->
			<!-- content -->
			<div data-role="content">	
				<table>
					<tr>
						<td><b>MobTV 4.0</b></td>
					</tr>
					<tr>
						<td>Programmes T&eacute;l&eacute; des Prime Time et seconde partie de soir&eacute;e des grandes chaines de t&eacute;l&eacute;vision fran&ccedil;aise et TNT.</td>
					</tr>
					<tr>
						<td>
							Sources : 
							<ul>
								<li><a href="http://www.programmes-tv.net" target="_blank">www.programmes-tv.net</a></li>
								<li>Convertigo-EMS de <a href="http://www.convertigo.com">CONVERTIGO</a></li>
								<li><a href="http://jquerymobile.com" target="_blank">Jquery Mobile</a></li>
								<li><a href="http://help.convertigo.com/latest/topic/com.twinsoft.convertigo.studio.help/help/helpRefManual/convertigoTemplatingFramework.html" target="_blank">Convertigo Templating Framework</a></li>
							</ul>		
						</td>
					</tr>
					<tr>
						<td><strong>Authors</strong></td>
					</tr>
					<tr>
						<td>Gr&eacute;gory VORBE <a href="mailto:gregoryv@convertigo.com">gregoryv@convertigo.com</a></td>
					</tr>
					<tr>
						<td>Elodie EBERHARDT<a href="mailto:elodiee@convertigo.com">elodiee@convertigo.com</a></td>
					</tr>
				</table>	
			</div>
			<!-- End content -->
			<!-- footer -->
			<div data-role="footer" data-position="fixed" data-tap-toggle="false" data-theme="b">
				<h4>MOBTV</h4>
			</div>
			<!-- End footer -->
		</div>
		<!-- End about screen -->
	
		<!-- Error dialog page - Error message popup  -->
		<div data-role="dialog" id="errorMessage" data-title="Error" data-theme="a">
		    <!-- header -->
		    <div data-role="header" data-theme="b">
		        <h1>Erreur</h1>
		    </div>
		    <!-- End header -->
		    <!-- content -->
		    <div data-role="content" data-c8o-listen=".*" data-c8o-listen-condition="errorCondition">
		        <p id="errorMessageTarget">__{"find" : "errorMessage", "formatter" : "formatErrorMessage"}____=error&gt;message__</p>
		        
		        <!-- back button, can be added on every header page, only not in the first displayed page -->
		        <a href="#" data-role="button" data-icon="back" data-rel="back">Close</a>
		    </div>
		    <!-- End content -->
		</div>
		<!-- End Error dialog page - Error message popup  -->
	
	</body>
</html>