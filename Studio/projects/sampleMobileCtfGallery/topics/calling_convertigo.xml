<?xml version="1.0"?>
<topic>
	<name>calling_convertigo</name>
	<title>Calling Convertigo</title>
	<sample>
		<title>Directive: data-c8o-call</title>
		<description>This sample demonstrates the basic way to call a Convertigo requestable.</description>
		<source>
			<button data-c8o-call=".getData">Get data</button>
			
			<div data-c8o-listen=".getData">
				<p>Shop: __=location name__</p>
				<p>Address: __=location address__</p>
			</div>
		</source>
	</sample>
	<sample>
		<title>HTML form</title>
		<description>This sample demonstrates how to call a Convertigo requestable inside a HTML form.</description>
		<source>
			<form data-c8o-call=".pushForm">
				<label for="firstname">First name:</label>
				<input name="firstname" id="firstname" value="" placeholder="Enter your first name"/>
				<label for="lastname">Last name:</label>
				<input name="lastname" id="lastname" value="" placeholder="Enter your last name"/>
				<button>Post form</button>
			</form>
			
			<div data-c8o-listen=".pushForm">
				<p>First name: __=firstname__</p>
				<p>Last name: __=lastname__</p>
			</div>
		</source>
	</sample>
	<sample>
		<title>Call without an HTML form element</title>
		<description>
			This sample demonstrates how to call a Convertigo requestable without an HTML form element.
			In this sample, the call parameters are located into SPAN elements, therefore are visible in the HTML flow.
		</description>
		<source>
			<div>
				<a href="#" data-c8o-call=".pushDiv">
					Call <span data-c8o-variable="firstname">John</span> <span data-c8o-variable="lastname">Doe</span>
				</a>
			</div>
			
			<div data-c8o-listen=".pushDiv">
				<p>First name: __=firstname__</p>
				<p>Last name: __=lastname__</p>
			</div>
		</source>
	</sample>
	<sample>
		<title>Call without an HTML form element and with invisible parameters</title>
		<description>
			This sample demonstrates how to call a Convertigo requestable without an HTML form element.
			In this sample, the call parameters are located into a data-c8o-variables directive,
			therefore are not visible in the HTML flow.
		</description>
		<source>
			<div>
				<a href="#" data-c8o-call=".pushDiv2" data-c8o-variables='{ "firstname": "John", "lastname": "Doe"}'>
					Call
				</a>
			</div>
			
			<div data-c8o-listen=".pushDiv2">
				<p>First name: __=firstname__</p>
				<p>Last name: __=lastname__</p>
			</div>
		</source>
	</sample>
</topic>
